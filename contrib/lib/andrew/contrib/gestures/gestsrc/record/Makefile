# Makefile generated by imake - do not edit!
# $XConsortium: imake.c,v 1.51 89/12/12 12:37:30 jim Exp $

# $Id: imake.tmpl,v 1.50 1991/10/02 20:36:52 gk5g Exp $
#==================================================
# Copyright IBM Corporation 1988,1991 - All Rights Reserved
# For full copyright information see:'andrew/config/COPYRITE'
#==================================================

###################################################
# This Makefile is automatically generated by
# imake... do not modify or you may lose your
# changes when imake generates makefiles again.
# Ignore this message if you are not using imake.
###################################################

###################################################
# The following comes from the platform.tmpl
###################################################

#
# The following comes from the macro file
#

        SYSTEM_H_FILE = rt_aos4/system.h

        SYS_IDENT = rt_aos4
        SYS_OS_ARCH = aos_rt

#
# The following is from the allsys.mcr file, and may be over-ridden
# by the platform-specific system.mcr file or the
# site-specific site.mcr file.
#

        XBASEDIR = /

        XSRCDIR =

        AFSBASEDIR = /usr/andrew

        KRBLIB =

        BASEDIR = /usr/itc/released
        DESTDIR = ${BASEDIR}

        XUTILDIR = /usr/local/bin

        CDEBUGFLAGS = -O

        MAKEDODEBUG =

        SHELL = /bin/sh
        CSHELL = /bin/csh
        CC = cc

        MALLOCALIGNMENT = 4

        RESOLVLIB =

        NETLIBS =

        SUPLIBS =

        ADDALIASES = $(BASEDIR)/etc/addalias
        CLASS = ${BASEDIR}/bin/class
        MAKEDO = ${BASEDIR}/bin/makedo
        MAKEDOFLAGS = ${MAKEDODEBUG} -d ${BASEDIR}/lib -b ${BASEDIR}/bin
        DOINDEX = $(BASEDIR)/bin/doindex
        XINCDIR = $(XBASEDIR)/usr/include/X11

        INCLUDES =  -I${BASEDIR}/include/atk -I${BASEDIR}/include -I$(AFSBASEDIR)/include -I${XINCDIR}

        CLASSINCLUDES = ${INCLUDES}
        DEPENDSCRIPT = $(TOP)/config/depend.csh
        XMAKEDEPEND = $(XUTILDIR)/makedepend
        IMAKE = $(XUTILDIR)/imake
        XLIBDIR = $(XBASEDIR)/usr/lib
        OLDXLIB = $(XLIBDIR)/liboldX.a
        IRULESRC = $(TOP)/config
        FDBWM = $(BASEDIR)/bin/fdbwm
        FDBBDF = $(BASEDIR)/bin/fdbbdf

        XFC = $(XBASEDIR)/usr/bin/X11/bdftopcf

        XMKFONTDIR = $(XBASEDIR)/usr/bin/X11/mkfontdir
        MACH = and

        TOP = ../../../../.
        AS = as
        CPP = /lib/cpp
        LD = ld
        LINT = lint

        INSTALL = $(BASEDIR)/etc/install

        TAGS = ctags
        RM = rm -f
        MV = mv
        CP = cp
        LN = ln -s
        RANLIB = ranlib
        AR = ar clq
        ARDEL = ar d
        CHMODW = chmod +w
        LS = ls
        AWK = awk
        SORT = sort
        TR = tr
        NM = nm
        MAKE = make
        SED = sed
        LEX = lex
        YACC = yacc
        SCRIBE = scribe
        LINTOPTS = -axz
        LINTLIBFLAG = -C
        STD_DEFINES =

#
# End of what comes from the allsys.mcr file.
#

        CC = hc

        CDEBUGFLAGS = -g
        MAKEDODEBUG = -g

        AFSBASEDIR = /usr/local

        ITCDIR = /usr/itc/released
        XMKFONTDIR = /usr/local/bin/mkfontdir
        XFC = /usr/local/bin/bdftosnf

        XLIBDIR = /usr/local/lib
        XINCDIR = /usr/local/include/X11

        RESOLVLIB = ${AFSBASEDIR}/lib/res/libresolv.a
        RESINC = -I$(AFSBASEDIR)/include/res

        INCLUDES =  -I${BASEDIR}/include -I$(BASEDIR)/include/atk $(RESINC) -I$(AFSBASEDIR)/include -I${XINCDIR}

        LOCALDIR = /usr/itc/projects
        COMMON = /afs/andrew.cmu.edu/itc/common
        COMMONLOCAL = $(COMMON)

#
# Back from the macro file
#

###################################################
# Back from platform.tmpl
###################################################

MACROFILE = rt_aos4/system.mcr

.SUFFIXES: .PS .do .o .ih .eh .fwm .snf .rtx .c .s .spp .y .l .ch .mss .fdb .bdf .fb .pcf

        ALL_INCLUDES = -I. $(LOCALINCLUDES) $(INCLUDES)
        ALL_DEFINES = $(STD_DEFINES) $(DEFINES)
        CFLAGS = $(COMPILERFLAGS) $(CDEBUGFLAGS) $(ALL_INCLUDES) $(ALL_DEFINES)
        TESTING_CFLAGS = -DTESTINGONLYTESTING $(CFLAGS)
        CLASSFLAGS = $(CLASSINCLUDES)
        LDFLAGS = $(SYS_LIBRARIES) $(SYSAUX_LIBRARIES)
        INSTUIDFLAGS = -c -m 4755

        INSTLIBFLAGS = -c -m 0664
        INSTDOFLAGS = -c -m 0444

        INSTINCFLAGS = -c -m 0444
        INSTMANFLAGS = -c -m 0444
        INSTAPPFLAGS = -c -m 0444
        INSTPROGFLAGS = -c -m 0555
        INSTPROGRWFLAGS = -c -m 0755
        INSTCLASSPROGFLAGS = $(INSTPROGFLAGS)

        AFSUTILS = $(BASEDIR)/lib/libafs.a

        PRSLIB = $(AFSBASEDIR)/lib/afs/libprot.a \
      	$(AFSBASEDIR)/lib/libubik.a \
      	$(AFSBASEDIR)/lib/librx.a \
      	$(AFSBASEDIR)/lib/afs/libauth.a \
      	$(AFSBASEDIR)/lib/librxkad.a \
      	$(AFSBASEDIR)/lib/liblwp.a \
	$(AFSBASEDIR)/lib/libscrypt.a \
	$(AFSBASEDIR)/lib/afs/libcom_err.a \
	 $(AFSUTILS)

        UTILLIB = $(BASEDIR)/lib/libutil.a \
	$(AFSBASEDIR)/lib/afs/libauth.a \
	$(AFSBASEDIR)/lib/afs/libsys.a \
	$(AFSBASEDIR)/lib/librx.a \
	$(AFSBASEDIR)/lib/librxkad.a \
	$(AFSBASEDIR)/lib/liblwp.a \
	$(DESLIB) $(AFSUTILS)

        MALLOCLIB = $(BASEDIR)/lib/libplumber.a

        IMAKE_CMD = $(IMAKE) -Timake.tmpl -I. -I$(IRULESRC) -s Makefile
        DOTDOTIMAKE_CMD = $(IMAKE) -Timake.tmpl -I. -I../$(IRULESRC) -s Makefile

###################################################
# The following comes from andrew.rls
###################################################

SHARED =

MKDOFLGS = $(MAKEDOFLAGS)

ALIASDESTDIR = $(DESTDIR)/help

ASMPP_CC = $(CC) -E
AS_FLAGS =

CC_LINK =

FONTEXT = snf

FONTEXT = pcf

###################################################
# Back from andrew.rls
###################################################

All:: all
Doc:: doc
doc:: install.doc
Aliases:: aliases
aliases:: install.alias
Install:: install
install:: all install.time doc
system: Install
World:: world
world:: depend install aliases
Tidy:: tidy
Clean:: clean
clean:: tidy

dependInstall:: depend
	make DESTDIR=$(DESTDIR) install

dependAll:: depend
	make DESTDIR=$(DESTDIR) all

depend::
all::

dependInstallClean:: depend install clean

tidy::
	$(RM) \#* ,* *~ *.CKP *.BAK *.bas errs core
	$(RM) *.ln *.o *.dog tags TAGS make.log
clean::
	$(RM) *.do *.eh *.ih *.a *.fwm *.snf *.pcf *.rtx *.fb
	$(RM) install.time install.doc

Makefile:: Imakefile \
	$(IRULESRC)/andyenv.h \
	$(IRULESRC)/imake.tmpl \
	$(IRULESRC)/andrew.rls \
	$(IRULESRC)/allsys.h \
	$(IRULESRC)/allsys.mcr \
	$(IRULESRC)/site.rls \
	$(IRULESRC)/site.h \
	$(IRULESRC)/site.mcr \
	$(IRULESRC)/$(MACROFILE) \
	$(IRULESRC)/$(SYSTEM_H_FILE)
		$(IMAKE_CMD) -DTOPDIR=$(TOP); \
		touch .depends; \
		cat .depends >>Makefile

tags::
	$(TAGS) -w *.[ch]
	$(TAGS) -xw *.[ch] > TAGS

###################################################
# The following comes from the local Imakefile
###################################################

GDEV = ../gdev
RECOG = ../recognition
LIBS = $(GDEV)/libgdev.a $(RECOG)/librecog.a
LOCALINCLUDE = -I$(GDEV) -I$(RECOG)
OBJS =  mrecord.o region.o

all:: mrecord
mrecord:  $(OBJS)  $(LIBS)
	$(RM) $@
	$(CC) $(CFLAGS) -o $@  $(OBJS)  $(LIBS) -lX11 -lm $(CC_LINK)
clean:: ; $(RM) mrecord

install.time:: mrecord
	@(case '$(MFLAGS)' in *[i]*) set +e;; esac; \
	for i in $?; do \
		(set -x; $(INSTALL)  $(INSTPROGFLAGS) $$i   $(BASEDIR)/bin/$$i) done)

###################################################
# Back from the local Imakefile
###################################################

Makefiles:: Makefile

install.time::
	touch install.time

install.doc::
	touch install.doc

install.alias::

##### DEPENDENCY LINE - DO NOT DELETE #####

